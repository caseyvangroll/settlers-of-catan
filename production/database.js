const mongoose=require("mongoose");mongoose.Promise=global.Promise;const mongoConfig=require("./mongoConfig.js"),user=new mongoose.Schema({color:String,createdAt:{type:Date,expires:28800,default:Date.now},ip:String,nickname:String,state:String,token:String}),chatEvent=new mongoose.Schema({body:String,color:String,nickname:String,type:String});module.exports=(args=>{const config=args.includes("test")?mongoConfig.test:mongoConfig.prod;return mongoose.connect(config.uri,{useMongoClient:!0}),Object.create({config:args.includes("test")?mongoConfig.test:mongoConfig.prod,ChatEvent:mongoose.model("ChatEvent",chatEvent),User:mongoose.model("User",user)})});